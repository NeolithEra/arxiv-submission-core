{
    "$schema": "http://json-schema.org/schema#",
    "title": "Status",
    "description": "The status document is provided in response to deposit operations on the Collection or the Object, and tells the client detailed information about the content and current state of the item.",
    "type": "object",
    "required": [
        "http://purl.org/net/sword/terms/object-endpoint",
        "http://purl.org/net/sword/terms/metadata-endpoint"
        "http://purl.org/net/sword/terms/metadata-formats",
        "http://purl.org/net/sword/terms/content-endpoint",
        "http://purl.org/net/sword/terms/metadata",
        "http://purl.org/net/sword/terms/state",
        "http://purl.org/net/sword/terms/actions"
    ],
    "properties": {
        "http://purl.org/net/sword/terms/object-endpoint": {
            "description": "Location of the submission object resource.",
            "type": "string",
            "format": "uri"
        },
        "http://purl.org/net/sword/terms/metadata-endpoint": {
            "description": "Location of the submission metadata resource.",
            "type": "string",
            "format": "uri"
        },
        "http://purl.org/net/sword/terms/metadata-formats": {
            "description": "Metadata formats available.",
            "type": "array",
            "minItems": 1,
            "maxItems": 1,
            "items": {
                "description": "Metadata format name.",
                "type": "string",
                "format": "uri"
            }
        },
        "http://purl.org/net/sword/terms/content-endpoint": {
            "description": "Location of the submission content resource.",
            "type": "string",
            "format": "uri"
        },
        "http://purl.org/net/sword/terms/content-packaging": {
            "description": "Packaging profile for submission content.",
            "type": "string",
            "format": "uri"
        },
        "http://purl.org/net/sword/terms/metadata": {
            "description": "Submission metadata.",
            "$ref": "metadata.json#/metadata"
        },
        "http://purl.org/net/sword/terms/lastAction": {
            "description": "The last action taken on this submission",
            "type": "object",
            "properties": {
                "http://purl.org/net/sword/terms/timestamp": {
                    "description": "Date/time when the action was applied.",
                    "type": "string",
                    "format": "date-time"
                },
                "http://purl.org/net/sword/terms/log": {
                    "description": "Event data from the previous action.",
                    "type": "object"
                },

            }
        },
        "http://purl.org/net/sword/terms/links": {
            "description": "Links to related resources.",
            "type": "array",
            "items": {
                "description": "A typed link to another resource",
                "type": "object",
                "properties": {
                    "rel": {
                        "description": "Link type. May be an URI.",
                        "type": "string"
                    },
                    "href": {
                        "description": "Location of the related resource.",
                        "type": "string",
                        "format": "uri"
                    },
                    "type": {
                        "description": "MIME-type of the related resource.",
                        "type": "string"
                    },
                    "http://purl.org/net/sword/terms/packaging": {
                        "description": "Packaging format for related resource.",
                        "type": "string",
                        "format": "uri"
                    },
                    "http://purl.org/net/sword/terms/depositedOn": {
                        "description": "Date and time when the related resource was deposited.",
                        "type": "string",
                        "format": "date-time"
                    },
                    "http://purl.org/net/sword/terms/depositedBy": {
                        "description": "The agent that deposited the related resource.",
                        "type": "string",
                        "format": "uri"
                    },
                    "http://purl.org/net/sword/terms/depositedOnBehalfOf": {
                        "description": "The user on whose behalf the related resource was deposited.",
                        "type": "string",
                        "format": "uri"
                    },
                    "http://purl.org/net/sword/terms/by-reference": {
                        "description": "If the related resource was added by reference, the location from which the resource was retrieved.",
                        "type": "string",
                        "format": "uri"
                    },
                    "http://purl.org/net/sword/terms/log": {
                        "description": "Additional information, e.g. error message(s).",
                        "type": "string"
                    },
                    "http://purl.org/net/sword/terms/crud": {
                        "description": "",
                        "type": "boolean"
                    },
                    "http://purl.org/net/sword/terms/metadata-format": {
                        "description": "Metadata format, if the related resource is a metadata resource.",
                        "type": "string",
                        "format": "uri"
                    },
                    "http://purl.org/dc/terms/isReplacedBy": {
                        "description": "Location of the resource that replaces this related object.",
                        "type": "string",
                        "format": "uri"
                    },
                    "http://purl.org/net/sword/terms/versionReplaced": {
                        "description": "Date when the related resource was replaced.",
                        "type": "string",
                        "format": "date"
                    },
                    "http://purl.org/net/sword/terms/status": {
                        "description": "If the submission content was deposited by reference, indicates dereferencing status (pending, downloading, failed).",
                        "type": "string"
                    }
                }
            }
        },
        "http://purl.org/net/sword/terms/state": {
            "description": "Current state of the submission",
            "type": "object",
            "properties": {
                "href": {
                    "description": "Dereferencable identifier for the submission state.",
                    "type": "string",
                    "format": "uri"
                },
                "http://purl.org/net/sword/terms/stateDescription": {
                    "description": "Human-readable description of the submission state.",
                    "type": "string"
                }
            }
        },
        "http://purl.org/net/sword/terms/actions": {
            "description": "Actions available on this submission resource.",
            "type": "object",
            "properties": {
                "http://purl.org/net/sword/terms/replace-metadata": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/replace-content": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/delete-content": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/add-file": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/delete-file": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/replace-file": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/add-content": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/update-metadata": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/delete-object": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/get-content": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/get-metadata": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/get-object": {
                    "type": "boolean"
                },
                "http://purl.org/net/sword/terms/get-file" : true
            }
        }
    }
}
